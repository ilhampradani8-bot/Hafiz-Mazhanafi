<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | Hafiz Mazhanafi</title>
    
    <link rel="icon" type="image/png" href="lexus-logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        lexusBlack: '#050505',
                        lexusGold: '#C5A059',
                        lexusGray: '#1a1a1a',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        @font-face { font-family: 'LexusFont'; src: url('regular.ttf') format('truetype'); }
        .font-luxury { font-family: 'LexusFont', sans-serif; }
        
        body { background-color: #050505; color: white; overflow-x: hidden; }

        /* --- BACKGROUND MOTIF (DIAMOND) --- */
        .diamond-bg {
            background-color: #050505;
            background-image: 
                linear-gradient(135deg, #0a0a0a 25%, transparent 25%),
                linear-gradient(225deg, #0a0a0a 25%, transparent 25%),
                linear-gradient(45deg, #0a0a0a 25%, transparent 25%),
                linear-gradient(315deg, #0a0a0a 25%, transparent 25%);
            background-position: 20px 0, 20px 0, 0 0, 0 0;
            background-size: 40px 40px;
            background-repeat: repeat;
        }

        /* --- 1. GERBANG AWAL (ATAS - BAWAH) --- */
        .gate-vertical {
            position: fixed; left: 0; width: 100%; height: 50%; 
            background: #000; z-index: 60;
            transition: transform 1.2s cubic-bezier(0.7, 0, 0.3, 1);
            display: flex; align-items: flex-end; justify-content: center;
        }
        #gate-top { top: 0; border-bottom: 2px solid #C5A059; }
        #gate-bottom { bottom: 0; border-top: 2px solid #C5A059; align-items: flex-start; }
        
        .gate-logo-part { opacity: 1; transition: opacity 0.5s; }

        /* --- 2. MAIN SECTION --- */
        #gallery-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            padding-top: 80px; /* Space for navbar */
        }

        /* VERTICAL CAR SLIDER (LEFT) */
        .slider-wrapper {
            height: 60vh; /* Tinggi area scroll */
            overflow: hidden;
            position: relative;
            /* Masking agar atas bawah pudar */
            mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent);
            -webkit-mask-image: linear-gradient(to bottom, transparent, black 20%, black 80%, transparent);
        }

        .slider-track {
            display: flex; flex-direction: column; align-items: center;
            transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .car-item {
            height: 20vh; /* 60vh / 3 items = 20vh per item */
            width: 100%;
            display: flex; align-items: center; justify-content: center;
            opacity: 0.4; transform: scale(0.8);
            transition: all 0.5s ease;
            cursor: pointer;
        }
        .car-item.active { opacity: 1; transform: scale(1.1); filter: drop-shadow(0 0 30px rgba(197,160,89,0.3)); }
        .car-item img { max-height: 100%; max-width: 80%; object-fit: contain; }

        /* RIGHT INFO PANEL */
        .info-panel { opacity: 0; transform: translateX(50px); transition: all 0.6s ease; }
        .info-panel.visible { opacity: 1; transform: translateX(0); }

        /* --- 3. GERBANG FOOTER (KANAN - KIRI) --- */
        .curtain-side {
            position: fixed; top: 0; bottom: 0; width: 50%;
            background: #080808; z-index: 40;
            transition: transform 0.8s ease;
            pointer-events: none; /* Supaya bisa scroll lewat */
        }
        #curtain-left { left: 0; transform: translateX(-100%); border-right: 1px solid #333; }
        #curtain-right { right: 0; transform: translateX(100%); border-left: 1px solid #333; }
        
        /* Class active untuk menutup tirai */
        .curtains-closed #curtain-left { transform: translateX(0); }
        .curtains-closed #curtain-right { transform: translateX(0); }

        /* --- FULLSCREEN MODAL --- */
        #fs-modal {
            position: fixed; inset: 0; z-index: 100;
            background: rgba(0,0,0,0.95); backdrop-filter: blur(10px);
            opacity: 0; pointer-events: none; transition: opacity 0.4s;
            display: flex; align-items: center; justify-content: center;
        }
        #fs-modal.active { opacity: 1; pointer-events: auto; }
        #fs-img { max-height: 80vh; max-width: 90vw; transform: scale(0.9); transition: transform 0.4s; }
        #fs-modal.active #fs-img { transform: scale(1); }
    </style>
</head>
<body class="antialiased diamond-bg">

    <nav class="fixed top-0 left-0 w-full z-[100] bg-black/80 backdrop-blur-xl border-b border-white/10 h-20 transition-all duration-300" id="navbar">
        <div class="container mx-auto h-full px-4 md:px-6 flex justify-between items-center relative z-[110]">
            <button id="mobile-menu-btn" onclick="toggleMenu()" class="md:hidden text-white focus:outline-none p-2">
                <div class="w-6 h-6 flex flex-col justify-between items-center pointer-events-none">
                    <span id="line1" class="w-full h-[2px] bg-white transition-all duration-300"></span>
                    <span id="line2" class="w-full h-[2px] bg-white transition-all duration-300"></span>
                    <span id="line3" class="w-full h-[2px] bg-white transition-all duration-300"></span>
                </div>
            </button>
            <a href="index.html" class="flex items-center gap-3 cursor-pointer group">
                <img src="lexus-logo.png" alt="Lexus" class="h-8 md:h-10 w-auto object-contain group-hover:opacity-80 transition"> 
                <div class="text-sm md:text-xl font-bold tracking-widest uppercase text-white group-hover:text-lexusGold transition whitespace-nowrap">
                    Hafiz <span class="text-lexusGold group-hover:text-white transition">Mazhanafi</span>
                </div>
            </a>
            <div class="hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 gap-8">
                <a href="index.html" class="nav-link text-xs font-medium tracking-[0.15em] text-gray-300 hover:text-white transition">HOME</a>
                <a href="index.html#about" class="nav-link text-xs font-medium tracking-[0.15em] text-gray-300 hover:text-white transition">PROFILE</a>
                <a href="#" class="nav-link text-xs font-medium tracking-[0.15em] text-lexusGold font-bold transition">GALLERY</a>
                <a href="experience.html" class="nav-link text-xs font-medium tracking-[0.15em] text-gray-300 hover:text-white transition">EXPERIENCE</a>
                <a href="index.html#contact" class="nav-link text-xs font-medium tracking-[0.15em] text-gray-300 hover:text-white transition">CONTACT</a>
            </div>
            <div class="flex items-center gap-6">
                <div class="hidden md:flex items-center gap-4">
                    <button onclick="setLanguage('en')" id="btn-en" class="text-xs font-medium tracking-[0.15em] text-white transition">EN</button>
                    <span class="text-gray-600 text-xs">|</span>
                    <button onclick="setLanguage('ms')" id="btn-ms" class="text-xs font-medium tracking-[0.15em] text-gray-400 hover:text-white transition">MY</button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="fixed top-20 left-0 w-full bg-black/95 backdrop-blur-xl border-b border-white/10 transform -translate-y-[150%] transition-transform duration-500 ease-in-out md:hidden flex flex-col items-center py-8 z-[90] shadow-2xl">
            <a href="index.html" class="mobile-link text-white hover:text-lexusGold text-sm tracking-widest mb-6 uppercase">HOME</a>
            <a href="index.html#about" class="mobile-link text-white hover:text-lexusGold text-sm tracking-widest mb-6 uppercase">PROFILE</a>
            <a href="#" class="mobile-link text-lexusGold font-bold text-sm tracking-widest mb-6 uppercase">GALLERY</a>
            <a href="experience.html" class="mobile-link text-white hover:text-lexusGold text-sm tracking-widest mb-6 uppercase">EXPERIENCE</a>
            <a href="index.html#contact" class="mobile-link text-white hover:text-lexusGold text-sm tracking-widest mb-8 uppercase">CONTACT</a>
        </div>
        <div id="mobile-overlay" onclick="closeMenu()" class="fixed inset-0 bg-black/80 hidden z-[80] backdrop-blur-sm cursor-pointer h-screen w-screen"></div>
    </nav>

    <div id="gate-top" class="gate-vertical">
        <h1 class="font-luxury text-4xl md:text-6xl text-white tracking-[0.3em] uppercase mb-4 gate-logo-part">LEXUS</h1>
    </div>
    <div id="gate-bottom" class="gate-vertical">
        <p class="text-gray-400 tracking-[0.5em] text-xs mt-4 uppercase gate-logo-part">Gallery Collection</p>
    </div>

    <section id="gallery-container" class="container mx-auto px-6">
        
        <div class="grid grid-cols-1 md:grid-cols-2 w-full h-full items-center gap-10">
            
            <div class="relative w-full flex flex-col items-center justify-center">
                <div class="slider-wrapper w-full md:w-[80%]">
                    <div id="slider-track" class="slider-track">
                        </div>
                </div>
                
                <div class="absolute left-4 top-1/2 -translate-y-1/2 w-[1px] h-32 bg-gray-800 hidden md:block">
                    <div class="w-full h-1/3 bg-lexusGold absolute top-0 transition-all duration-500" id="scroll-bar"></div>
                </div>
            </div>

            <div class="info-panel relative z-20 text-center md:text-left pl-0 md:pl-10" id="info-panel">
                
                <h3 class="text-lexusGold text-sm font-bold tracking-[0.3em] uppercase mb-2" id="info-tag">CATEGORY</h3>
                <h1 class="text-5xl md:text-7xl font-luxury text-white mb-6 uppercase leading-tight" id="info-name">MODEL</h1>
                
                <p class="text-gray-400 font-light leading-relaxed mb-8 max-w-md mx-auto md:mx-0" id="info-desc">
                    Description goes here.
                </p>

                <div class="flex flex-wrap gap-8 mb-10 justify-center md:justify-start">
                    <div>
                        <span class="block text-[10px] text-gray-500 uppercase tracking-widest">Engine</span>
                        <span class="text-xl text-white font-luxury" id="info-engine">---</span>
                    </div>
                    <div>
                        <span class="block text-[10px] text-gray-500 uppercase tracking-widest">Power</span>
                        <span class="text-xl text-white font-luxury" id="info-power">---</span>
                    </div>
                </div>

                <div class="flex items-center gap-4 justify-center md:justify-start">
                    <div class="flex gap-2">
                        <button onclick="prevCar()" class="w-12 h-12 border border-gray-700 rounded-full flex items-center justify-center hover:bg-lexusGold hover:border-lexusGold hover:text-black transition duration-300">
                            <svg class="w-5 h-5 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        </button>
                        <button onclick="nextCar()" class="w-12 h-12 border border-gray-700 rounded-full flex items-center justify-center hover:bg-lexusGold hover:border-lexusGold hover:text-black transition duration-300">
                            <svg class="w-5 h-5 -rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        </button>
                    </div>

                    <div class="h-px w-10 bg-gray-700"></div>

                    <button onclick="openFullscreen()" class="group flex items-center gap-3 text-white hover:text-lexusGold transition">
                        <span class="text-xs font-bold uppercase tracking-widest">View Full Image</span>
                        <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-lexusGold group-hover:text-black transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg>
                        </div>
                    </button>
                </div>

            </div>

        </div>

    </section>

    <div id="footer-trigger" class="h-[20vh] w-full"></div>

    <div id="curtain-left" class="curtain-side"></div>
    <div id="curtain-right" class="curtain-side"></div>

    <footer class="bg-black pt-16 pb-10 text-center relative z-50 border-t border-gray-900">
        <h2 class="text-2xl font-luxury text-white mb-4">EXPERIENCE AMAZING</h2>
        <div class="flex justify-center gap-6 mb-8">
            <a href="#" class="text-gray-500 hover:text-lexusGold text-xl"><i class="fab fa-instagram"></i></a>
            <a href="#" class="text-gray-500 hover:text-lexusGold text-xl"><i class="fab fa-facebook"></i></a>
            <a href="#" class="text-gray-500 hover:text-lexusGold text-xl"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p class="text-gray-600 text-xs">&copy; 2026 Hafiz Mazhanafi. All Rights Reserved.</p>
    </footer>

    <div id="fs-modal">
        <button onclick="closeFullscreen()" class="absolute top-6 right-6 text-white hover:text-lexusGold z-50">
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        <img id="fs-img" src="" alt="Full View" class="object-contain">
        <div class="absolute bottom-10 left-0 w-full text-center">
            <h2 id="fs-title" class="text-3xl font-luxury text-white uppercase drop-shadow-lg"></h2>
        </div>
    </div>

    <script src="lang.js"></script>
    <script>
        // --- DATA MOBIL ---
        const carData = [
            { name: "Lexus LBX", tag: "Compact Luxury", engine: "1.5L HEV", power: "136 HP", img: "lbx-default.png", desc: "The LBX breaks boundaries as a compact SUV that doesn't compromise on luxury. Perfect for the city." },
            { name: "NX 350 F Sport", tag: "Dynamic Sport", engine: "2.4L Turbo", power: "275 HP", img: "nx350f-default.png", desc: "Experience the thrill of the NX F SPORT with its turbo engine and adaptive suspension." },
            { name: "NX 350h", tag: "Hybrid", engine: "2.5L HEV", power: "240 HP", img: "nx350h-default.png", desc: "Efficiency meets power. The NX Hybrid delivers smooth acceleration with class-leading fuel economy." },
            { name: "RX 350", tag: "Luxury SUV", engine: "2.4L Turbo", power: "279 HP", img: "rx350-default.png", desc: "The iconic RX, reinvented. Spacious, sophisticated, and powerful for every journey." },
            { name: "RX 500h", tag: "F Sport Perf.", engine: "2.4L Turbo Hyb", power: "366 HP", img: "rx500h-default.png", desc: "The most powerful RX ever. Direct4 AWD system ensures incredible handling and speed." }
        ];

        let currentIndex = 0;
        const track = document.getElementById('slider-track');
        const infoPanel = document.getElementById('info-panel');

        // --- 1. INIT & RENDER ---
        function initGallery() {
            track.innerHTML = '';
            carData.forEach((car, index) => {
                const el = document.createElement('div');
                el.className = `car-item ${index === 0 ? 'active' : ''}`;
                // Pakai placeholder kalau gambar error
                el.innerHTML = `<img src="${car.img}" onerror="this.src='https://placehold.co/400x250/FFFFFF/000000?text=${car.name}'" alt="${car.name}">`;
                el.onclick = () => goToCar(index);
                track.appendChild(el);
            });
            updateView();
            
            // Buka Gerbang Awal setelah load
            setTimeout(() => {
                document.getElementById('gate-top').style.transform = 'translateY(-100%)';
                document.getElementById('gate-bottom').style.transform = 'translateY(100%)';
                document.querySelectorAll('.gate-logo-part').forEach(el => el.style.opacity = '0');
            }, 1000);
        }

        // --- 2. LOGIC SCROLL & UPDATE UI ---
        function updateView() {
            // A. Geser Track Vertikal
            // Item height = 20vh. Kita mau item aktif di tengah (posisi ke-2 dari 3 slot).
            // Jadi offsetnya: index * 20vh.
            // Tapi karena kita mau active di tengah, kita perlu logic offset sedikit.
            // Anggap container 60vh. Item 20vh.
            // Index 0 -> TranslateY 20vh (Biar turun ke tengah)
            // Index 1 -> TranslateY 0vh
            // Index 2 -> TranslateY -20vh
            
            const itemHeightVh = 20; 
            const offset = (1 - currentIndex) * itemHeightVh; 
            track.style.transform = `translateY(${offset}vh)`;

            // B. Update Class Active
            const items = document.querySelectorAll('.car-item');
            items.forEach((item, i) => {
                if (i === currentIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // C. Update Text Info (Fade effect)
            infoPanel.classList.remove('visible');
            setTimeout(() => {
                const data = carData[currentIndex];
                document.getElementById('info-name').innerText = data.name;
                document.getElementById('info-tag').innerText = data.tag;
                document.getElementById('info-desc').innerText = data.desc;
                document.getElementById('info-engine').innerText = data.engine;
                document.getElementById('info-power').innerText = data.power;
                infoPanel.classList.add('visible');
            }, 300);

            // D. Update Scroll Bar Indicator
            const bar = document.getElementById('scroll-bar');
            const pct = (currentIndex / (carData.length - 1)) * 100;
            if(bar) bar.style.top = `${pct}%`;
            if(bar && pct > 80) bar.style.top = `auto`, bar.style.bottom = `0`; 
        }

        function nextCar() {
            if (currentIndex < carData.length - 1) {
                currentIndex++;
                updateView();
            }
        }

        function prevCar() {
            if (currentIndex > 0) {
                currentIndex--;
                updateView();
            }
        }

        function goToCar(index) {
            currentIndex = index;
            updateView();
        }

        // --- 3. SCROLL MOUSE (WHEEL) PADA AREA KIRI ---
        // Biar user bisa scroll mouse di area mobil untuk ganti mobil
        document.querySelector('.slider-wrapper').addEventListener('wheel', (e) => {
            e.preventDefault();
            if (e.deltaY > 0) nextCar();
            else prevCar();
        });

        // --- 4. ANIMASI FOOTER (TIRAI SAMPING) ---
        const observerFooter = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const body = document.body;
                if (entry.isIntersecting) {
                    body.classList.add('curtains-closed');
                } else {
                    body.classList.remove('curtains-closed');
                }
            });
        }, { threshold: 0.5 });

        observerFooter.observe(document.getElementById('footer-trigger'));


        // --- 5. FULLSCREEN MODAL ---
        const modal = document.getElementById('fs-modal');
        const fsImg = document.getElementById('fs-img');
        const fsTitle = document.getElementById('fs-title');

        function openFullscreen() {
            const data = carData[currentIndex];
            fsImg.src = data.img;
            // Gunakan placeholder jika error
            fsImg.onerror = function() { this.src = `https://placehold.co/800x600/FFFFFF/000000?text=${data.name}`; };
            
            fsTitle.innerText = data.name;
            modal.classList.add('active');
        }

        function closeFullscreen() {
            modal.classList.remove('active');
        }

        // --- 6. MOBILE MENU (Standard) ---
        const navMenu = document.getElementById('mobile-menu');
        const overlay = document.getElementById('mobile-overlay');
        const line1 = document.getElementById('line1');
        const line2 = document.getElementById('line2');
        const line3 = document.getElementById('line3');
        let isMenuOpen = false;
        function toggleMenu() {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                navMenu.classList.remove('-translate-y-[150%]'); overlay.classList.remove('hidden');
                line1.classList.add('rotate-45', 'translate-y-[8px]'); line2.classList.add('opacity-0'); line3.classList.add('-rotate-45', '-translate-y-[8px]');
            } else { closeMenu(); }
        }
        function closeMenu() {
            isMenuOpen = false;
            navMenu.classList.add('-translate-y-[150%]'); overlay.classList.add('hidden');
            line1.classList.remove('rotate-45', 'translate-y-[8px]'); line2.classList.remove('opacity-0'); line3.classList.remove('-rotate-45', '-translate-y-[8px]');
        }

        // RUN INIT
        initGallery();

    </script>
</body>
</html>